<div class="login-page">
  <dx-load-panel [visible]="loading" [showIndicator]="true" [showPane]="true" [shading]="true" message="Signing inâ€¦" [position]="{ of: '.login-page' }"></dx-load-panel>
  <dx-toast [visible]="!!error" type="error" [message]="error" [displayTime]="8000" (onHidden)="error = ''" [position]="{ at: { x: 'center', y: 'top' }, my: { x: 'center', y: 'top' } }"></dx-toast>
  <app-card class="login-card">
    <app-brand subtitle="Freelance School"></app-brand>
    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <div class="form-item">
        <label for="email">Email</label>
        <dx-text-box
          id="email"
          [value]="form.get('email')?.value"
          (valueChange)="onEmailChange($event)"
          mode="email"
          placeholder="admin@educonnect.com">
        </dx-text-box>
        <span class="field-error" *ngIf="form.get('email')?.invalid && form.get('email')?.touched">Valid email required</span>
      </div>
      <div class="form-item">
        <label for="password">Password</label>
        <dx-text-box
          id="password"
          [value]="form.get('password')?.value"
          (valueChange)="onPasswordChange($event)"
          mode="password"
          placeholder="Password">
        </dx-text-box>
        <span class="field-error" *ngIf="form.get('password')?.invalid && form.get('password')?.touched">Required</span>
      </div>
      <div class="form-actions">
        <dx-button text="Sign in" type="default" (onClick)="onSubmit()" [disabled]="form.invalid || loading"></dx-button>
      </div>
    </form>
    <p class="hint">Default admin: admin@educonnect.com / 1qaz!QAZ</p>
  </app-card>
</div>
